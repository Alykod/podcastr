{"ast":null,"code":"var _jsxFileName = \"/Users/kod/Desktop/podcastframework/podcastUI/pages/index.js\";\nvar __jsx = React.createElement;\nimport Link from \"next/link\";\nimport Header from \"../components/header\";\nimport Layout from \"../components/layout\";\nimport React, { useContext, useEffect, useState } from \"react\";\nimport PodcastContext from '../components/context/podcastContext';\nimport { UPDATE_CURRENT_PODCAST } from '..//components/context/reducers';\nimport apollo, { withApollo } from '../lib/apollo'; // import PodcastsList from '../components/apolloLayout';\n\nimport { useQuery } from '@apollo/react-hooks';\nimport { PodcastsQuery, LatestPodcastQuery } from '../services/query';\nimport _ from 'lodash';\n\nvar Index = function Index() {\n  var podcastContext = useContext(PodcastContext);\n\n  var _useQuery = useQuery(PodcastsQuery),\n      data = _useQuery.data,\n      loading = _useQuery.loading,\n      error = _useQuery.error;\n\n  var _useState = useState(loading),\n      loadingStatus = _useState[0],\n      setLoadingStatus = _useState[1];\n\n  var _useState2 = useState([]),\n      podcastData = _useState2[0],\n      setPodcastData = _useState2[1];\n\n  console.log(\"data\", data);\n\n  var _useQuery2 = useQuery(LatestPodcastQuery, {\n    variables: {\n      someId: \"1\"\n    }\n  }),\n      newDAta = _useQuery2.newDAta;\n\n  console.log(newDAta);\n  useEffect(function () {\n    if (podcastContext.podcastState.currentPodcast == \"\") {\n      podcastContext.updateCurrentPodcast('test'); // podcastContext.dispatch({type: UPDATE_CURRENT_PODCAST, value: 'test'})\n    }\n  }, []);\n  useEffect(function () {\n    var com = !_isEqual(data, podcastData);\n    debugger;\n\n    if (!_isEqual(data, podcastData)) {}\n  }, [data]);\n  useEffect(function () {\n    setLoadingStatus(loading);\n  }, [loading]);\n  return __jsx(Layout, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44\n    },\n    __self: this\n  }, __jsx(\"p\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46\n    },\n    __self: this\n  }, \"Hello Next.js\"));\n}; //reason get initial props is not used in this situation, is due to the fact that it would not work with hooks. When react suspense is out, this might be updated. \n\n\nexport default Index;","map":{"version":3,"sources":["/Users/kod/Desktop/podcastframework/podcastUI/pages/index.js"],"names":["Link","Header","Layout","React","useContext","useEffect","useState","PodcastContext","UPDATE_CURRENT_PODCAST","apollo","withApollo","useQuery","PodcastsQuery","LatestPodcastQuery","_","Index","podcastContext","data","loading","error","loadingStatus","setLoadingStatus","podcastData","setPodcastData","console","log","variables","someId","newDAta","podcastState","currentPodcast","updateCurrentPodcast","com","_isEqual"],"mappings":";;AAAA,OAAOA,IAAP,MAAiB,WAAjB;AACA,OAAOC,MAAP,MAAmB,sBAAnB;AACA,OAAOC,MAAP,MAAmB,sBAAnB;AACA,OAAOC,KAAP,IAAgBC,UAAhB,EAA4BC,SAA5B,EAAuCC,QAAvC,QAAsD,OAAtD;AACA,OAAOC,cAAP,MAA2B,sCAA3B;AACA,SAAQC,sBAAR,QAAqC,iCAArC;AACA,OAAOC,MAAP,IAAiBC,UAAjB,QAAmC,eAAnC,C,CACA;;AACA,SAASC,QAAT,QAAyB,qBAAzB;AACA,SAAQC,aAAR,EAAuBC,kBAAvB,QAAgD,mBAAhD;AACA,OAAOC,CAAP,MAAc,QAAd;;AAGA,IAAMC,KAAK,GAAG,SAARA,KAAQ,GAAM;AAChB,MAAMC,cAAc,GAAGZ,UAAU,CAACG,cAAD,CAAjC;;AADgB,kBAEiBI,QAAQ,CAACC,aAAD,CAFzB;AAAA,MAERK,IAFQ,aAERA,IAFQ;AAAA,MAEFC,OAFE,aAEFA,OAFE;AAAA,MAEOC,KAFP,aAEOA,KAFP;;AAAA,kBAG0Bb,QAAQ,CAACY,OAAD,CAHlC;AAAA,MAGTE,aAHS;AAAA,MAGMC,gBAHN;;AAAA,mBAIsBf,QAAQ,CAAC,EAAD,CAJ9B;AAAA,MAITgB,WAJS;AAAA,MAIIC,cAJJ;;AAMhBC,EAAAA,OAAO,CAACC,GAAR,CAAY,MAAZ,EAAoBR,IAApB;;AANgB,mBAQIN,QAAQ,CAACE,kBAAD,EAAqB;AAAEa,IAAAA,SAAS,EAAE;AAACC,MAAAA,MAAM,EAAE;AAAT;AAAb,GAArB,CARZ;AAAA,MAQRC,OARQ,cAQRA,OARQ;;AAShBJ,EAAAA,OAAO,CAACC,GAAR,CAAYG,OAAZ;AACAvB,EAAAA,SAAS,CAAC,YAAK;AACX,QAAGW,cAAc,CAACa,YAAf,CAA4BC,cAA5B,IAA8C,EAAjD,EAAqD;AACjDd,MAAAA,cAAc,CAACe,oBAAf,CAAoC,MAApC,EADiD,CAEjD;AACH;AACJ,GALQ,EAKN,EALM,CAAT;AAOA1B,EAAAA,SAAS,CAAC,YAAK;AACX,QAAI2B,GAAG,GAAG,CAACC,QAAQ,CAAChB,IAAD,EAAOK,WAAP,CAAnB;AACA;;AACA,QAAG,CAACW,QAAQ,CAAChB,IAAD,EAAOK,WAAP,CAAZ,EAAiC,CAEhC;AACJ,GANQ,EAMN,CAACL,IAAD,CANM,CAAT;AAQAZ,EAAAA,SAAS,CAAC,YAAK;AACXgB,IAAAA,gBAAgB,CAACH,OAAD,CAAhB;AACH,GAFQ,EAEN,CAACA,OAAD,CAFM,CAAT;AAIF,SACE,MAAC,MAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAEE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBAFF,CADF;AAMD,CAnCD,C,CAqCA;;;AAGA,eAAeH,KAAf","sourcesContent":["import Link from \"next/link\";\nimport Header from \"../components/header\";\nimport Layout from \"../components/layout\";\nimport React, { useContext, useEffect, useState} from \"react\";\nimport PodcastContext from '../components/context/podcastContext';\nimport {UPDATE_CURRENT_PODCAST} from '..//components/context/reducers'\nimport apollo, { withApollo } from '../lib/apollo'\n// import PodcastsList from '../components/apolloLayout';\nimport { useQuery } from '@apollo/react-hooks';\nimport {PodcastsQuery, LatestPodcastQuery} from '../services/query';\nimport _ from 'lodash'\n\n\nconst Index = () => {\n    const podcastContext = useContext(PodcastContext)\n    const { data, loading, error } = useQuery(PodcastsQuery);\n    const [loadingStatus, setLoadingStatus] = useState(loading);\n    const [podcastData, setPodcastData] = useState([]);\n\n    console.log(\"data\", data);\n\n    const { newDAta } = useQuery(LatestPodcastQuery, { variables: {someId: \"1\"}})\n    console.log(newDAta)\n    useEffect(()=> {\n        if(podcastContext.podcastState.currentPodcast == \"\") {\n            podcastContext.updateCurrentPodcast('test')\n            // podcastContext.dispatch({type: UPDATE_CURRENT_PODCAST, value: 'test'})\n        }\n    }, [])\n\n    useEffect(()=> {\n        let com = !_isEqual(data, podcastData)\n        debugger;\n        if(!_isEqual(data, podcastData)) {\n        \n        }\n    }, [data])\n\n    useEffect(()=> {\n        setLoadingStatus(loading);\n    }, [loading])\n    \n  return (\n    <Layout>\n    {/* <PodcastsList /> */}\n      <p>Hello Next.js</p>\n    </Layout>\n  );\n};\n\n//reason get initial props is not used in this situation, is due to the fact that it would not work with hooks. When react suspense is out, this might be updated. \n\n\nexport default Index;\n"]},"metadata":{},"sourceType":"module"}