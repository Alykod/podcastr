{"ast":null,"code":"var __jsx = React.createElement;\nimport { useRouter } from 'next/router';\nimport Layout from '../components/layout';\nimport React, { useEffect, useState } from 'react';\nimport { useQuery } from '@apollo/react-hooks';\nimport { SinglePodcast } from '../services/query';\nimport _ from 'lodash';\nimport PodcastTemplate from '../components/podcastTemplate';\n\nconst PodcastPage = () => {\n  const router = useRouter();\n  const {\n    data,\n    loading,\n    error\n  } = useQuery(SinglePodcast, {\n    variables: {\n      filter: router.query.title\n    }\n  });\n  const {\n    0: podcast,\n    1: setPodcast\n  } = useState(null);\n  useEffect(() => {\n    if (data && !_.isEqual(data.podcast, podcast)) {\n      setPodcast(data.podcasts[0]);\n    }\n  }, [data]);\n  useEffect(() => {\n    if (error) {\n      window.location.href = window.location.origin;\n    }\n  }, [error]);\n  return __jsx(Layout, null, podcast ? __jsx(PodcastTemplate, {\n    podcast: podcast\n  }) : null);\n};\n\nexport default PodcastPage;","map":null,"metadata":{},"sourceType":"module"}